---
import MainLayout from '../layouts/MainLayout.astro';
import HeroSlider from '../components/HeroSlider.astro';
import MovieSlider from '../components/MovieSlider.astro';

// Mock data - In production, fetch from TMDB API
const trendingMovies = [
  {
    id: 1,
    title: "Dune: Part Two",
    overview: "Ikuti Paul Atreides dalam perjalanan epiknya bersama Chani dan Fremen saat ia menuntut balas atas konspirasi yang menghancurkan keluarganya. Menghadapi pilihan antara cinta hidupnya dan nasib alam semesta.",
    backdropPath: "/xOMo8BRK7PfcJv9JCnx7s5hj0PX.jpg",
    posterPath: "/8b8R8l88Qje9dn9OE8PY05Nxl1X.jpg",
    releaseDate: "2024-02-27",
    voteAverage: 8.4,
    genreIds: [878, 12, 18]
  },
  {
    id: 2,
    title: "Oppenheimer",
    overview: "Kisah kehidupan J. Robert Oppenheimer dan perannya sebagai fisikawan jenius yang memimpin pengembangan bom atom pertama, mengubah sejarah dunia selamanya.",
    backdropPath: "/fm6KqXpk3M2HVveHwCrBSSBaO0V.jpg",
    posterPath: "/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg",
    releaseDate: "2023-07-19",
    voteAverage: 8.5,
    genreIds: [18, 36, 53]
  },
  {
    id: 3,
    title: "Spider-Man: Across the Spider-Verse",
    overview: "Miles Morales kembali dalam petualangan multidimensi yang spektakuler, bertemu Spider-People dari berbagai dimensi dalam pertarungan melawan ancaman baru.",
    backdropPath: "/4HodYYKEIsGOdinkGi2Ucz6X9i0.jpg",
    posterPath: "/8Vt6mWEReuy4Of61Lnj5Xj704m8.jpg",
    releaseDate: "2023-05-31",
    voteAverage: 8.7,
    genreIds: [16, 28, 12]
  },
  {
    id: 4,
    title: "Godzilla x Kong: The New Empire",
    overview: "Dua titan legendaris, Godzilla dan Kong, bersatu menghadapi ancaman tersembunyi yang mengancam keberadaan mereka dan umat manusia.",
    backdropPath: "/veIyxxi5Gs8gvztLEW1Zrgj0UZw.jpg",
    posterPath: "/z1p34vh7dEOnLDmyCrlUVLuoDzd.jpg",
    releaseDate: "2024-03-27",
    voteAverage: 7.1,
    genreIds: [878, 28, 12]
  }
];

const popularMovies = [
  { id: 101, title: "Wonka", posterPath: "/qhb1qOilapbapxWQn9jtRCMwXJF.jpg", releaseDate: "2023-12-06", voteAverage: 7.2, genreIds: [35, 10751, 14] },
  { id: 102, title: "Aquaman and the Lost Kingdom", posterPath: "/8xV47NDrjdZDpkVcCFqkdHa3T0C.jpg", releaseDate: "2023-12-20", voteAverage: 6.8, genreIds: [28, 12, 14] },
  { id: 103, title: "Migration", posterPath: "/ldfCF9RhR40mppkzmftxapaHTo.jpg", releaseDate: "2023-12-06", voteAverage: 7.5, genreIds: [16, 35, 12] },
  { id: 104, title: "Anyone But You", posterPath: "/5qHoazZiaLe7oFBok7XlUhg96f2.jpg", releaseDate: "2023-12-21", voteAverage: 7.0, genreIds: [35, 10749] },
  { id: 105, title: "The Beekeeper", posterPath: "/A7EByudX0eOzlkQ2FIbogzyazm2.jpg", releaseDate: "2024-01-08", voteAverage: 7.4, genreIds: [28, 53] },
  { id: 106, title: "Poor Things", posterPath: "/kCGlIMHnOm8JPXq3rXM6c5wMxcT.jpg", releaseDate: "2023-12-07", voteAverage: 8.0, genreIds: [878, 35, 10749] },
  { id: 107, title: "The Iron Claw", posterPath: "/nfs7DCYhgrEIgxKYbITHTzKsggf.jpg", releaseDate: "2023-12-21", voteAverage: 7.6, genreIds: [18, 36] },
  { id: 108, title: "Argylle", posterPath: "/95VlSEfLMqeX36UVcHJuNlWEpwf.jpg", releaseDate: "2024-01-31", voteAverage: 6.5, genreIds: [28, 35, 53] }
];

const nowPlayingMovies = [
  { id: 201, title: "Kung Fu Panda 4", posterPath: "/kDp1vUBnMpe8ak4rjgl3cLELqjU.jpg", releaseDate: "2024-03-02", voteAverage: 7.3, genreIds: [16, 28, 35] },
  { id: 202, title: "Ghostbusters: Frozen Empire", posterPath: "/e1J2oNzSBdou01sUvriVuoYp0pJ.jpg", releaseDate: "2024-03-20", voteAverage: 6.8, genreIds: [14, 35, 12] },
  { id: 203, title: "Bob Marley: One Love", posterPath: "/mKWalirPreEdCKDJjc5TKeOP2xi.jpg", releaseDate: "2024-02-14", voteAverage: 7.0, genreIds: [18, 10402] },
  { id: 204, title: "Madame Web", posterPath: "/rULWuutDcN5NvtiZi4FRPzRYWSh.jpg", releaseDate: "2024-02-14", voteAverage: 5.5, genreIds: [28, 14, 53] },
  { id: 205, title: "Drive-Away Dolls", posterPath: "/ay4DNwCzMfL5XbM3UNJjZVElgbL.jpg", releaseDate: "2024-02-22", voteAverage: 6.2, genreIds: [35, 80] },
  { id: 206, title: "Immaculate", posterPath: "/fdZpvODTX5wwkD0ikZNaClE4AoW.jpg", releaseDate: "2024-03-20", voteAverage: 6.5, genreIds: [27, 53] }
];

const animeMovies = [
  { id: 301, title: "Suzume", posterPath: "/vIeu8WysZrTSFb2uhPViKjX9EcC.jpg", releaseDate: "2022-11-11", voteAverage: 8.0, genreIds: [16, 14, 12] },
  { id: 302, title: "The Boy and the Heron", posterPath: "/jDQPkgzerGophKRRn7MKm071vGS.jpg", releaseDate: "2023-07-14", voteAverage: 7.5, genreIds: [16, 14, 12] },
  { id: 303, title: "Jujutsu Kaisen 0", posterPath: "/23oJaeBh0FDk2mQ2P240PU9Xxfh.jpg", releaseDate: "2021-12-24", voteAverage: 8.2, genreIds: [16, 28, 14] },
  { id: 304, title: "One Piece Film: Red", posterPath: "/m80kPdrmmtEh9wlLroCp0bwUGH0.jpg", releaseDate: "2022-08-06", voteAverage: 7.3, genreIds: [16, 28, 12] },
  { id: 305, title: "Dragon Ball Super: Super Hero", posterPath: "/rugyJdeoJm7cSJL1q4jBpTNbxyU.jpg", releaseDate: "2022-06-11", voteAverage: 7.5, genreIds: [16, 28, 878] },
  { id: 306, title: "Demon Slayer: To the Swordsmith Village", posterPath: "/AqvtzwpD37m8iiPVY8hKsyMIeQ.jpg", releaseDate: "2023-02-03", voteAverage: 8.0, genreIds: [16, 28, 14] }
];

const topRatedMovies = [
  { id: 401, title: "The Shawshank Redemption", posterPath: "/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg", releaseDate: "1994-09-23", voteAverage: 9.3, genreIds: [18, 80] },
  { id: 402, title: "The Godfather", posterPath: "/3bhkrj58Vtu7enYsRolD1fZdja1.jpg", releaseDate: "1972-03-14", voteAverage: 9.2, genreIds: [18, 80] },
  { id: 403, title: "The Dark Knight", posterPath: "/qJ2tW6WMUDux911r6m7haRef0WH.jpg", releaseDate: "2008-07-16", voteAverage: 9.0, genreIds: [18, 28, 80] },
  { id: 404, title: "Schindler's List", posterPath: "/sF1U4EUQS8YHUYjNl3pMGNIQyr0.jpg", releaseDate: "1993-12-15", voteAverage: 9.0, genreIds: [18, 36, 10752] },
  { id: 405, title: "12 Angry Men", posterPath: "/ppd84D2i9W8jXmsyInGyihiSyqz.jpg", releaseDate: "1957-04-10", voteAverage: 9.0, genreIds: [18] },
  { id: 406, title: "Spirited Away", posterPath: "/39wmItIWsg5sZMyRUHLkWBcuVCM.jpg", releaseDate: "2001-07-20", voteAverage: 8.9, genreIds: [16, 10751, 14] }
];

const upcomingMovies = [
  { id: 501, title: "Deadpool 3", posterPath: "/4Y1WNkd88JXmGfhtWR7dmDAo1T2.jpg", releaseDate: "2024-07-26", voteAverage: 0, genreIds: [28, 35, 878] },
  { id: 502, title: "Kingdom of the Planet of the Apes", posterPath: "/gKkl37BQuKTanygYQG1pyYgLVgf.jpg", releaseDate: "2024-05-08", voteAverage: 0, genreIds: [878, 12, 28] },
  { id: 503, title: "Inside Out 2", posterPath: "/oxxqiyWrnM0XPnBtVe9TgYWnPxT.jpg", releaseDate: "2024-06-14", voteAverage: 0, genreIds: [16, 35, 10751] },
  { id: 504, title: "Furiosa", posterPath: "/iADOJ8Zymht2JPMoy3R7xceZprc.jpg", releaseDate: "2024-05-22", voteAverage: 0, genreIds: [28, 12, 878] },
  { id: 505, title: "Joker: Folie √† Deux", posterPath: "/aLHyGFOvx7TjGdxCOi7oVkakANj.jpg", releaseDate: "2024-10-02", voteAverage: 0, genreIds: [18, 80, 53] },
  { id: 506, title: "Gladiator 2", posterPath: "/cjy1e7v9Sj4WrDIWAdFxTpJLSQO.jpg", releaseDate: "2024-11-15", voteAverage: 0, genreIds: [28, 18, 12] }
];
---

<MainLayout title="ASTRO - Website Review Film Indonesia">
  <!-- Hero Slider -->
  <HeroSlider movies={trendingMovies} />

  <!-- Quick Categories -->
  <section class="py-8 border-b border-dark-100">
    <div class="container-custom">
      <div class="flex items-center gap-3 overflow-x-auto hide-scrollbar pb-2">
        <a href="/film" class="flex-shrink-0 px-6 py-3 bg-gradient-primary text-white rounded-full font-medium hover:shadow-glow transition-all duration-300">
          üé¨ Semua Film
        </a>
        <a href="/anime" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          üéå Anime
        </a>
        <a href="/series" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          üì∫ Series
        </a>
        <a href="/bioskop" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          üé• Bioskop
        </a>
        <a href="/mendatang" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          üìÖ Akan Datang
        </a>
        <a href="/trending" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          üî• Trending
        </a>
        <a href="/top-rated" class="flex-shrink-0 px-6 py-3 bg-dark-300 text-secondary-300 rounded-full font-medium hover:bg-dark-200 hover:text-white transition-all duration-300">
          ‚≠ê Top Rated
        </a>
      </div>
    </div>
  </section>

  <!-- Popular Movies -->
  <MovieSlider 
    title="üî• Film Terpopuler"
    subtitle="Film yang sedang banyak dibicarakan"
    movies={popularMovies}
    viewAllLink="/film/populer"
  />

  <!-- Now Playing -->
  <MovieSlider 
    title="üé• Sedang Tayang di Bioskop"
    subtitle="Tonton sekarang di bioskop terdekat"
    movies={nowPlayingMovies}
    viewAllLink="/bioskop"
  />

  <!-- Anime Section -->
  <MovieSlider 
    title="üéå Anime Populer"
    subtitle="Film anime terbaik untuk ditonton"
    movies={animeMovies}
    viewAllLink="/anime"
  />

  <!-- Editor's Pick / Featured -->
  <section class="section py-12">
    <div class="container-custom">
      <div class="flex items-end justify-between mb-8">
        <div>
          <h2 class="section-title">‚ú® Pilihan Editor</h2>
          <p class="section-subtitle">Rekomendasi terbaik dari tim ASTRO</p>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Featured Movie -->
        <a href="/film/1" class="group relative aspect-video rounded-2xl overflow-hidden card-hover">
          <img 
            src="https://image.tmdb.org/t/p/w1280/xOMo8BRK7PfcJv9JCnx7s5hj0PX.jpg" 
            alt="Dune: Part Two"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-dark-500 via-transparent to-transparent"></div>
          <div class="absolute bottom-0 left-0 right-0 p-6">
            <span class="badge-primary mb-3">Editor's Choice</span>
            <h3 class="text-2xl font-display font-bold text-white mb-2">Dune: Part Two</h3>
            <p class="text-secondary-300 line-clamp-2">
              Ikuti Paul Atreides dalam perjalanan epiknya bersama Chani dan Fremen...
            </p>
            <div class="flex items-center gap-4 mt-4">
              <div class="flex items-center gap-1 text-yellow-400">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
                <span class="font-bold">8.4</span>
              </div>
              <span class="text-secondary-400">2024</span>
              <span class="text-secondary-400">Sci-Fi, Adventure</span>
            </div>
          </div>
        </a>

        <!-- Secondary Featured -->
        <div class="grid grid-cols-2 gap-4">
          <a href="/film/2" class="group relative aspect-[3/4] rounded-2xl overflow-hidden card-hover">
            <img 
              src="https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg" 
              alt="Oppenheimer"
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-dark-500 via-transparent to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4">
              <h3 class="text-lg font-bold text-white">Oppenheimer</h3>
              <div class="flex items-center gap-2 mt-1">
                <span class="text-yellow-400 text-sm font-bold">8.5</span>
                <span class="text-secondary-400 text-sm">2023</span>
              </div>
            </div>
          </a>
          <a href="/film/3" class="group relative aspect-[3/4] rounded-2xl overflow-hidden card-hover">
            <img 
              src="https://image.tmdb.org/t/p/w500/8Vt6mWEReuy4Of61Lnj5Xj704m8.jpg" 
              alt="Spider-Verse"
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-dark-500 via-transparent to-transparent"></div>
            <div class="absolute bottom-0 left-0 right-0 p-4">
              <h3 class="text-lg font-bold text-white">Spider-Verse</h3>
              <div class="flex items-center gap-2 mt-1">
                <span class="text-yellow-400 text-sm font-bold">8.7</span>
                <span class="text-secondary-400 text-sm">2023</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Top Rated -->
  <MovieSlider 
    title="‚≠ê Top Rated Sepanjang Masa"
    subtitle="Film dengan rating tertinggi"
    movies={topRatedMovies}
    viewAllLink="/top-rated"
  />

  <!-- Upcoming Movies -->
  <MovieSlider 
    title="üìÖ Akan Datang"
    subtitle="Film yang ditunggu-tunggu"
    movies={upcomingMovies}
    viewAllLink="/mendatang"
    showRating={false}
  />

  <!-- Newsletter / CTA Section -->
  <section class="section py-16 bg-gradient-to-b from-dark-500 to-dark-400">
    <div class="container-custom">
      <div class="card-glass p-8 md:p-12 text-center">
        <div class="max-w-2xl mx-auto space-y-6">
          <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-primary flex items-center justify-center shadow-glow">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
            </svg>
          </div>
          <h2 class="text-2xl md:text-3xl font-display font-bold text-white">
            Jangan Lewatkan Update Film Terbaru!
          </h2>
          <p class="text-secondary-300">
            Dapatkan notifikasi film baru, rekomendasi personal, dan artikel menarik langsung di inbox kamu.
          </p>
          <form class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
            <input 
              type="email" 
              placeholder="Masukkan email kamu"
              class="input flex-1"
            />
            <button type="submit" class="btn-primary px-8">
              Berlangganan
            </button>
          </form>
          <p class="text-xs text-secondary-500">
            Dengan berlangganan, kamu setuju dengan kebijakan privasi kami. Bisa berhenti kapan saja.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-12 border-y border-dark-100">
    <div class="container-custom">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-display font-bold text-gradient mb-2">10,000+</div>
          <div class="text-secondary-400">Film & Series</div>
        </div>
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-display font-bold text-gradient-accent mb-2">50,000+</div>
          <div class="text-secondary-400">Review Pengguna</div>
        </div>
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-display font-bold text-gradient mb-2">100,000+</div>
          <div class="text-secondary-400">Pengguna Aktif</div>
        </div>
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-display font-bold text-gradient-accent mb-2">500+</div>
          <div class="text-secondary-400">Genre & Kategori</div>
        </div>
      </div>
    </div>
  </section>
</MainLayout>
